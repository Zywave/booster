<nav class="top-nav-lite">
    <div id="search-top-nav"></div>
    <a class="log-in" href="/admin">Log in</a>
</nav>
<hr />

<script type="module">
    const element = document.getElementById("search-top-nav");
    const config = { childList: true, subtree: true };
    const observer = new MutationObserver(whenAlgoliaInsertedAddEventListener);

    function whenAlgoliaInsertedAddEventListener(mutationList, observer) {
        for (const mutation of mutationList) {
            const firstElement = mutation.addedNodes[0];
            if (firstElement.classList.value === 'aa-Autocomplete') {
                firstElement.addEventListener('click', function() {
                    firstElement.classList.add('is-open');
                });
            }
        }
    }

    observer.observe(element, config);
</script>
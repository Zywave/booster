<!doctype html>
<html {% if section %} aria-current="{{ section }}"{% endif %} lang="en">

<head>
	<base href="{{ "/"  | url }}"></base>
	<meta charset="utf-8">
	<link rel="icon" href="./favicon.ico" />
	<link rel="dns-prefetch" href="https://identity.netlify.com">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{{ component.commonName or renderData.title or title }}</title>
	{# njk var set below, njk templating doesn't play well within 'script' tags #}
	{% set moduleFolder = "/js/" | url %}
	{# import maps must be registered prior to any script loading #}

	<script type="importmap">
		{
			"imports": {
				"lit": "https://cdn.zywave.com/lit@2.0.0/index.js?module",
				"lit/": "https://cdn.zywave.com/lit@2.0.0/",
				"@lit/": "https://cdn.zywave.com/@lit/",
				"lit-html/": "https://cdn.zywave.com/lit-html@next/",
				"tslib": "https://cdn.zywave.com/tslib@2.3.0/tslib.es6.js",
				"@booster/": "{{ moduleFolder }}"
			}
		}
	</script>
	<script type="esms-options">
		{
			"polyfillEnable": ["css-modules", "json-modules"]
		}
	</script>
	<script async src="https://cdn.zywave.com/construct-style-sheets-polyfill@latest/dist/adoptedStyleSheets.js"></script>

	<script async src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
	<script async src="https://cdn.zywave.com/@zywave/zui-bundle@latest/dist/bundle.js" type="module"></script>
	<script src="https://cdn.zywave.com/@zywave/zywave-api-toolkit-bundle@latest/dist/bundle.js" type="module"></script>
	<link rel="stylesheet" href="https://cdn.zywave.com/@zywave/zui-base-styles@latest/dist/zui-base-styles.min.css">
	<link rel="stylesheet" href="https://cdn.zywave.com/@zywave/zui-app-styles@latest/dist/zui-app-styles.min.css">
	<link rel="stylesheet" href="css/styles.css">
	{% set js %}
		{% include "static/js/inline.js" %}
	{% endset %}
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@algolia/algoliasearch-netlify-frontend@1.0.8/dist/algoliasearchNetlify.css" />
</head>

<body class="zui row {{ pageType }}">
	<script async src="https://cdn.zywave.com/es-module-shims@1.0.0/dist/es-module-shims.js"></script>
	{{ content | safe }}
	{% include "components/feedback.njk" %}
	<script>
	if (window.netlifyIdentity) {
		window.netlifyIdentity.on("init", user => {
			if (!user) {
				window.netlifyIdentity.on("login", () => {
					document.location.href = "/admin/";
				});
			}
		});
	}
	</script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@algolia/algoliasearch-netlify-frontend@1.0.8/dist/algoliasearchNetlify.js"></script>
	<script type="module" noshim>
		let initialized;
		function init() {
			if (initialized) {
				return;
			}
			let selector;
			if (document.querySelector('#search-home')) {
				selector = '#search-home';
			} else if (document.querySelector('#search-top-nav')) {
				selector = '#search-top-nav';
			}
			if (!selector) return;
			algoliasearchNetlify({
				appId: '{{ env.ALGOLIA_APP_ID }}',
				apiKey: '{{ env.ALGOLIA_SEARCH_API_KEY }}',
				siteId: '{{ env.SITE_ID }}',
				branch: 'main',
				selector,
				placeholder: 'Let\'s find something...'
			});
			initialized = true;
		}
		document.readyState === 'complete'                ? init()
			: document.addEventListener('readystatechange', () => {
				if (document.readyState === 'complete') {
					init();
				}
			});
	</script>
</body>
</html>
import{s as t,R as e,D as i,i as s,n as r,Z as o,k as n,t as a,a as l}from"./_39a3718f.js";import{A as h}from"./_a53307c7.js";
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const c=(t,e,i)=>(i.configurable=!0,i.enumerable=!0,Reflect.decorate&&"object"!=typeof e&&Object.defineProperty(t,e,i),i)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;function u(t,e){return(i,s,r)=>{const o=e=>e.renderRoot?.querySelector(t)??null;if(e){const{get:t,set:e}="object"==typeof s?i:r??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return c(i,s,{get(){let i=t.call(this);return void 0===i&&(i=o(this),(null!==i||this.hasUpdated)&&e.call(this,i)),i}})}return c(i,s,{get(){return o(this)}})}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const d=1,p=2,f=t=>(...e)=>({_$litDirective$:t,values:e});class m{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this.t=t,this._$AM=e,this.i=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:g}=t,w=()=>document.createComment(""),v=(t,e,i)=>{const s=t._$AA.parentNode,r=void 0===e?t._$AB:e._$AA;if(void 0===i){const e=s.insertBefore(w(),r),o=s.insertBefore(w(),r);i=new g(e,o,t,t.options)}else{const e=i._$AB.nextSibling,o=i._$AM,n=o!==t;if(n){let e;i._$AQ?.(t),i._$AM=t,void 0!==i._$AP&&(e=t._$AU)!==o._$AU&&i._$AP(e)}if(e!==r||n){let t=i._$AA;for(;t!==e;){const e=t.nextSibling;s.insertBefore(t,r),t=e}}}return i},y=(t,e,i=t)=>(t._$AI(e,i),t),b={},$=t=>{t._$AP?.(!1,!0);let e=t._$AA;const i=t._$AB.nextSibling;for(;e!==i;){const t=e.nextSibling;e.remove(),e=t}},z=(t,e,i)=>{const s=new Map;for(let r=e;r<=i;r++)s.set(t[r],r);return s},k=f(class extends m{constructor(t){if(super(t),t.type!==p)throw Error("repeat() can only be used in text expressions")}dt(t,e,i){let s;void 0===i?i=e:void 0!==e&&(s=e);const r=[],o=[];let n=0;for(const e of t)r[n]=s?s(e,n):n,o[n]=i(e,n),n++;return{values:o,keys:r}}render(t,e,i){return this.dt(t,e,i).values}update(t,[i,s,r]){const o=(t=>t._$AH)(t),{values:n,keys:a}=this.dt(i,s,r);if(!Array.isArray(o))return this.ut=a,n;const l=this.ut??=[],h=[];let c,u,d=0,p=o.length-1,f=0,m=n.length-1;for(;d<=p&&f<=m;)if(null===o[d])d++;else if(null===o[p])p--;else if(l[d]===a[f])h[f]=y(o[d],n[f]),d++,f++;else if(l[p]===a[m])h[m]=y(o[p],n[m]),p--,m--;else if(l[d]===a[m])h[m]=y(o[d],n[m]),v(t,h[m+1],o[d]),d++,m--;else if(l[p]===a[f])h[f]=y(o[p],n[f]),v(t,o[d],o[p]),p--,f++;else if(void 0===c&&(c=z(a,f,m),u=z(l,d,p)),c.has(l[d]))if(c.has(l[p])){const e=u.get(a[f]),i=void 0!==e?o[e]:null;if(null===i){const e=v(t,o[d]);y(e,n[f]),h[f]=e}else h[f]=y(i,n[f]),v(t,o[d],i),o[e]=null;f++}else $(o[p]),p--;else $(o[d]),d++;for(;f<=m;){const e=v(t,h[m+1]);y(e,n[f]),h[f++]=e}for(;d<=p;){const t=o[d++];null!==t&&$(t)}return this.ut=a,((t,e=b)=>{t._$AH=e})(t,h),e}});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class x{static{this.cultures=["en-us","en-gb"]}static{this.defaultCulture="en-us"}static async import(t){t&&x.cultures.includes(t.toLowerCase())||(t=x.defaultCulture);return(await S[t.toLowerCase()]()).default}}const S={"en-us":()=>import("./_a7ed42b2.js"),"en-gb":()=>import("./_984320ba.js")},R=f(class extends m{constructor(t){if(super(t),t.type!==d||"class"!==t.name||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[i]){if(void 0===this.st){this.st=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in i)i[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(i)}const s=t.element.classList;for(const t of this.st)t in i||(s.remove(t),this.st.delete(t));for(const t in i){const e=!!i[t];e===this.st.has(t)||this.nt?.has(t)||(e?(s.add(t),this.st.add(t)):(s.remove(t),this.st.delete(t)))}return e}}),U="important",C=" !"+U,L=f(class extends m{constructor(t){if(super(t),t.type!==d||"style"!==t.name||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,i)=>{const s=t[i];return null==s?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${s};`}),"")}update(t,[i]){const{style:s}=t.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(i)),this.render(i);for(const t of this.ft)null==i[t]&&(this.ft.delete(t),t.includes("-")?s.removeProperty(t):s[t]=null);for(const t in i){const e=i[t];if(null!=e){this.ft.add(t);const i="string"==typeof e&&e.endsWith(C);t.includes("-")||i?s.setProperty(t,i?e.slice(0,-11):e,i?U:""):s[t]=e}}return e}});
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class T extends m{constructor(t){if(super(t),this.it=i,t.type!==p)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===i||null==t)return this._t=void 0,this.it=t;if(t===e)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const s=[t];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}T.directiveName="unsafeHTML",T.resultType=1;const P=f(T),N=s`:host{display:contents}:host :not(:defined){display:none}.theme-logo{width:auto;height:100%}zui-shell{--zui-shell-primary-theme:var(--zywave-shell-primary-color, var(--zui-blue-500))}zui-shell.theme-loading{--zui-shell-primary-theme:var(--zywave-shell-primary-color, var(--zui-gray-100))}zui-shell.theme-loading zui-logo:not(.static-logo-uri){display:none}.legalese{display:block}.notify-parent{position:fixed;top:var(--zui-shell-topbar-global-height);left:0;width:calc(100vw - 1.25rem);visibility:hidden;margin-top:1.25rem}.profile-type-identifier,.profile-types-list{list-style:none;padding:0}:not(:defined){display:none;width:0;height:0;visibility:hidden}.feature-flags-header{padding:.625rem .9375rem;background:var(--zui-gray-50);font-weight:700}slot[name=experimentalassistant]{display:none}@media(min-width:45em){slot[name=experimentalassistant]{display:contents}}::slotted([slot=experimentalassistant]){min-width:0}`;function j(t,e=!1){return new Promise(((i,s)=>{setTimeout((()=>e?s(new Error("Sleep rejected")):i()),t)}))}const _=s`@supports(scrollbar-width:thin){.options-list{scrollbar-color:var(--zui-gray-400) var(--zui-gray-50);scrollbar-width:thin}}@supports not (scrollbar-width:thin){.options-list::-webkit-scrollbar{width:7px;height:7px;background-color:var(--zui-gray-50)}.options-list::-webkit-scrollbar-thumb{background-color:var(--zui-gray-400);border-radius:10px}}:host{display:block}.wrapper{position:relative;width:100%}@media(min-width:45em){.wrapper{width:auto}}.input-wrapper{position:relative;background:#fff;border-radius:.25rem}.input-wrapper zui-icon{--zui-icon-size:1.0625rem;position:absolute;top:calc(50% - .53125rem);left:.8125rem;z-index:1;fill:var(--zui-gray-400)}.input-wrapper input{position:relative;display:inline-block;width:100%;min-width:0;min-height:2.625rem;z-index:2;vertical-align:middle;padding:0 .625rem 0 2.5rem;background-color:rgba(0,0,0,0);border:.0625rem solid var(--zui-gray-200);border-radius:.25rem;font:inherit;color:inherit;transition:border .1s ease-in-out,box-shadow .1s ease-in-out,width 250ms ease-in-out;box-sizing:border-box;appearance:textfield}@media(min-width:45em){.input-wrapper input{min-width:69ch}}.input-wrapper input::placeholder{color:var(--zui-gray-300)}.input-wrapper input::-webkit-input-placeholder{color:var(--zui-gray-300)}.input-wrapper input::-moz-placeholder{opacity:1;color:var(--zui-gray-300)}.input-wrapper input:-moz-placeholder{opacity:1;color:var(--zui-gray-300)}.input-wrapper input:-ms-input-placeholder{color:var(--zui-gray-300)}.input-wrapper input::-ms-clear{display:none;width:0;height:0}.input-wrapper input::-ms-reveal{display:none;width:0;height:0}.input-wrapper input:not(output):-moz-ui-invalid{box-shadow:none}.input-wrapper input::-webkit-search-cancel-button,.input-wrapper input::-webkit-search-decoration,.input-wrapper input::-webkit-search-results-button,.input-wrapper input::-webkit-search-results-decoration{display:none}.input-wrapper input:hover{border-color:var(--zui-gray-300)}.input-wrapper input:focus{border-color:var(--zui-blue-400);box-shadow:0 0 0 .0625rem var(--zui-blue-400);outline:0}.input-wrapper input[disabled]{background-color:var(--zui-gray-100);cursor:not-allowed;color:var(--zui-gray)}.input-wrapper input[disabled]:hover{border:.0625rem solid var(--zui-gray-200)}.input-wrapper input[readonly]{background:rgba(0,0,0,0);border:0;outline:0;color:var(--zui-gray);pointer-events:none}.options-list{width:calc(100% - 2.5rem);max-width:69ch;max-height:80vh;z-index:1;overflow-y:auto;padding:1.5625rem 0 .9375rem;background-color:#fff;border:0;border-radius:.25rem;box-shadow:0 .0625rem .1875rem .0625rem rgba(0,0,0,.16);color:var(--zui-gray-700);transition:max-height .2s,padding .2s,box-shadow .2s,transform .3s;scroll-behavior:smooth}@media(min-width:45em){.options-list{width:69ch;max-width:none}}.options-list:popover-open{position:fixed;inset:unset}.options-list .options-group{display:block}.options-list .group-label{display:flex;justify-content:space-between;align-items:center;padding:1.25rem 1.5625rem .75rem;font-size:.75rem;font-weight:700;text-transform:uppercase}.options-list .group-label:first-child{padding-top:0}.options-list .option{display:flex;height:2.6rem;align-items:center;padding:.5rem 1.5625rem;background-color:rgba(0,0,0,0);cursor:pointer;color:var(--zui-gray-600);transition:background-color .1s ease-in-out;text-decoration:none}.options-list .option:hover{background-color:var(--zui-gray-50)}.options-list .option:focus{background-color:var(--zui-gray-50);outline:0}.options-list .option zui-icon{--zui-icon-size:1.25rem;align-self:flex-start;margin-top:.5ch;margin-right:.9375rem}.options-list .description{width:calc(100% - 1.875rem);align-self:stretch}.options-list .first-line{font-weight:700}.options-list .second-line{font-size:.75rem;color:var(--zui-gray-500)}.options-list .first-line,.options-list .second-line{display:block;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.options-list .no-results{padding:.5rem 1.5625rem;font-style:italic;color:var(--zui-gray-800)}.see-more{display:block;padding:0 1.5625rem}.see-more a{display:inline-block;vertical-align:baseline;margin:0;padding:.5rem 0 .625rem;font-size:.75rem;font-weight:600;cursor:pointer;color:var(--zui-blue);text-decoration:none}.see-more a:hover{color:var(--zui-blue-400)}.see-more a:focus{outline:.0625rem solid var(--zui-blue);outline-offset:.25rem;text-decoration:none}.see-more a:active{outline:0;color:var(--zui-blue-600);text-decoration:underline}.no-results+.group-label,.see-more+.group-label{margin-top:.625rem;border-top:1px solid var(--zui-gray-100)}.skeleton{position:relative;display:inline-block;height:1.6em;overflow:hidden;background-color:var(--zui-gray-100);border-radius:.1875rem}.skeleton::after{position:absolute;top:0;right:0;bottom:0;left:0;content:"";background-image:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.2) 20%,rgba(255,255,255,.5) 60%,rgba(255,255,255,0));animation:shimmer 2s infinite;transform:translateX(-100%)}@keyframes shimmer{100%{transform:translateX(100%)}}zui-icon.skeleton{width:1.25rem;height:1.25rem;border-radius:50%}.skeleton.group-label{width:10ch;margin:0 1.5625rem .75rem;padding:0}.skeleton.first-line,.skeleton.second-line{height:1.6em}.skeleton.first-line{margin-bottom:.15625rem}.skeleton.second-line{width:70%;margin-top:.15625rem}.skeleton.see-more{width:8ch;margin-left:1.5625rem;padding:0}`;var D=function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};class O extends o{#t;#e;#i;#s;#r;#o;#n;#a;#l;get value(){return this.#e}set value(t){const e=this.#e;this.#e=t,this.requestUpdate("value",e)}static get styles(){return[_]}get#h(){return this._input?.value}constructor(){super(),this.#e="",this.#o=!1,this.#n=!1,this.placeholder="Search...",this.#l=t=>{this.#c(t)}}connectedCallback(){super.connectedCallback(),window.addEventListener("topbarheightchange",this.#l)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("topbarheightchange",this.#l)}async firstUpdated(t){super.firstUpdated(t),this.#s=window.zywave?.zapi?._popover?.requiresPolyfill?window.zywave.zapi._popover.loadPolyfill():Promise.resolve(),await this.#s,this.requestUpdate(),this.#a=this._input.getBoundingClientRect().top}render(){return n`${this.#u()}<div class="wrapper">${this.#d()} ${this.#p()}</div><slot></slot>`}#u(){return window.zywave?.zapi?._popover?.requiresPolyfill?n`<link href="${window.zywave.zapi._popover.cssUri}" rel="stylesheet">`:i}#d(){return n`<div class="input-wrapper"><zui-icon icon="zui-search"></zui-icon><input id="search" aria-label="Search" type="search" .value="${this.value||""}" placeholder="${this.placeholder??""}" @input="${()=>this.#f()}" @keyup="${t=>this.#m(t)}" popovertarget="list" autocomplete="nope"></div>`}#p(){if(!this._input)return i;const t=this._input.getBoundingClientRect(),e={};window.zywave?.zapi?._popover?.requiresPolyfill&&(e.position="fixed",e.inset="unset"),e.top=`${t.height}px`;const s=this._input.getBoundingClientRect().top;this.#a!==s&&(this.#a=s),window.zywave?.zapi?._popover?.requiresPolyfill||(e.top=`${this.#a+t.height}px`,e.left=`${t.left}px`);const r=structuredClone(this.#t??[]),o=t=>n`<a href="${t.href}" class="option" @click="${()=>this.#g(t)}"><zui-icon icon="${t.icon??"zui-rocket"}" class="small"></zui-icon><div class="description"><div class="first-line" title="${t.title}">${t.title}</div><div class="second-line" title="${t.subtitle}">${t.subtitle}</div></div></a>`;return n`<div id="list" class="options-list" style="${L(e)}" popover @toggle="${this.#w}">${this.#n?this.#v():k(r,(t=>n`<div class="group-label">${t.entityName}</div>${t.items.length>0?k(t.items,o):n`<div class="no-results">No results found.</div>`} ${t.items.length>0?n`<div class="see-more"><a href="${t.items[0].searchPageUri}" @click="${()=>this.#y(t)}">See all results</a></div>`:i}`))}<slot></slot></div>`}#b(){return n`${k([1,2,3,4,5],(()=>n`<div class="option"><zui-icon icon="" class="small skeleton"></zui-icon><div class="description"><div class="first-line skeleton"> </div><div class="second-line skeleton"> </div></div></div>`))}`}#v(){return n`<div class="group-label skeleton"> </div>${this.#b()}`}async#$(t,e){const i=performance.now(),s=new URL("shell/v2.0/search",this.apiUrl);t&&s.searchParams.set("query",t),s.searchParams.set("host",window.location.hostname);const r=await this._apiClient.fetch(s,{signal:e});if(r instanceof Response&&200===r.status&&!e.aborted){const e=performance.now();this.#t=await r.json();const s={duration:e-i,query:t};for(const t of this.#t)s[`${t.entityName} - Count`]=t.items?.length??0,s[`${t.entityName} - Timed Out`]=t.timedOut,s[`${t.entityName} - Elapsed Milliseconds`]=t.elapsedMs;this.dispatchEvent(new CustomEvent("search",{detail:s,bubbles:!1})),this.requestUpdate()}}#f(){this.#z(),this.#n=!0,this.requestUpdate(),this.#i&&(window.clearTimeout(this.#i),this.#r?.abort()),this.#r=new AbortController;const t=this.#r.signal,e=async()=>{t.aborted||(await this.#$(this.#h,this.#r.signal),this.#n=!1,this.requestUpdate())};this.#i=window.setTimeout((()=>{e()}),300)}#w(t){this.#o="closed"===t.oldState&&"open"===t.newState,this.#o||this.#k()}#z(){const t=()=>{this._list?.showPopover?.(),this._input?.focus(),this.#o=!0};this.#s?this.#s?.then(t):t()}#g(t){const e={entityName:t.entityName,title:t.title,subtitle:t.subtitle,href:t.href,query:this.#h};this.dispatchEvent(new CustomEvent("clickresult",{detail:e,bubbles:!1}))}#y(t){const e={entityName:t.entityName,searchPageUri:t.items[0].searchPageUri,query:this.#h};this.dispatchEvent(new CustomEvent("clickseemore",{detail:e,bubbles:!1}))}#m(t){"Enter"===t.key&&this.dispatchEvent(new CustomEvent("inputkeypress",{detail:{key:t.key,query:this.#h},bubbles:!1}))}#k(){this.dispatchEvent(new CustomEvent("dismiss",{detail:{query:this.#h},bubbles:!1}))}#c(t){const e=t,i=e.detail?.topbarVisible;this._list.style.transform=i?"none":"translateY(calc(var(--zui-shell-topbar-global-height) * -1))",this.requestUpdate()}}D([r({type:String})],O.prototype,"value",null),D([r({type:String,attribute:"placeholder"})],O.prototype,"placeholder",void 0),D([u("#search")],O.prototype,"_input",void 0),D([u("#list")],O.prototype,"_list",void 0),window.customElements.define("zywave-shell-omnisearch",O);const I=s`:host{display:block}:host(:not(:last-of-type):not(:only-of-type)) .feature{margin-bottom:1.25rem}.feature{display:flex;align-items:center;margin:.625rem .9375rem .6875rem}.feature .header{margin-right:.625rem}.feature zui-toggle{margin-left:auto}`;var E=function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};class A extends o{constructor(){super(...arguments),this.header="",this.description="",this.checked=!1}static get styles(){return[I]}render(){return n`<div class="feature"><div class="header">${this.header}</div><zui-tooltip position="bottom"><zui-icon class="small" icon="zui-details" slot="trigger"></zui-icon><span slot="message">${this.description}</span></zui-tooltip><zui-toggle ?checked="${this.checked}" @change="${()=>this.checked=this._toggle.checked}"></zui-toggle></div>`}}E([r({type:String})],A.prototype,"header",void 0),E([r({type:String})],A.prototype,"description",void 0),E([r({type:Boolean,reflect:!0})],A.prototype,"checked",void 0),E([u("zui-toggle")],A.prototype,"_toggle",void 0),window.customElements.define("zywave-shell-feature",A);var q=function(t,e,i,s){var r,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(n=(o<3?r(n):o>3?r(e,i,n):r(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};class F extends o{get appName(){return this.#x?this.#S:null}set appName(t){const e=this.#S;this.#S=t,this.requestUpdate("appName",e)}get state(){return this.#R}#U;#C;#L;#T;#P;#N;#j;#_;#D;#O;#I;#E;#A;#q;#F;#M;#Z;#H;#B;#K;#X;#Y;#J;#Q;#R;#V;#G;#S;#W;#tt;get#et(){return this.themeable&&!this.#Y}get#it(){return!!this.#N}get#st(){return this.#I?.["enable-omnisearch"]??!1}get#rt(){return this.#A}get#x(){return!(!this.querySelector('* > [slot="nav"]')&&!this.noNav)}get#ot(){return!!this.querySelector('* > [slot="search"]')||this.noSearch}get#nt(){return!!this.#E?.searchProviders?.length&&(this.#st||!this.#ot)}static get styles(){return[N]}constructor(){super(),this.navTags=null,this.activeNavId=null,this.navCollapsed=null,this.copyrightYear=(new Date).getFullYear(),this.culture=window.navigator.language,this.logoutUserUrl=null,this.profileSwitchTypeCodes=null,this.loginUserUrl=null,this.themeId=null,this.switchProfileHandlerUrl=null,this.switchProfileRedirectUrl=null,this.themeable=!1,this.noNav=!1,this.noSearch=!1,this.logoUri=null,this.analyticsUserProperties=null,this.#q=!1,this.#F=!1,this.#M=!1,this.#Z=!1,this.#H=!1,this.#B=!1,this.#K=!1,this.#X=!1,this.#Y=!1,this.#J=!1,this.#R="loading",this.#S=null,this.#W=null,this.#W=this.attachInternals?.(),this.#V=window.performance.now()}connectedCallback(){super.connectedCallback(),this.#at("loading"),this.#tt=this.#lt.bind(this),document.addEventListener("keydown",this.#tt)}disconnectedCallback(){super.disconnectedCallback(),this.#tt&&(document.removeEventListener("keydown",this.#tt),this.#tt=void 0)}async firstUpdated(t){super.firstUpdated(t),await this._apiClientReady,await this.#ht(),this.#ct(),this.profileSwitchTypeCodes??=[],this.#j&&!this.profileSwitchTypeCodes.includes(this.#j.typeCode)&&this.profileSwitchTypeCodes.push(this.#j.typeCode),this.#G=window.performance.now(),this.updateComplete.then((()=>{this.#at("interactive","loading")})),this.track("ZywaveShellUtilization",{navOverridden:this.#x.toString(),appName:this.appName,loadTime:this.#G-this.#V})}render(){let t=this.#O?.primaryColor;t&&t.startsWith("--")&&(t=`var(${t})`);let e={};return t&&(e={"--zui-shell-primary-theme":t,"--zui-shell-nav-active-color":t}),n`${this.#ut()}<zui-shell style="${L(e)}" part="shell" app-name="${this.appName||""}" class="${R({"theme-loading":this.#et})}"><zui-shell-topbar part="topbar" @topbarheightchange="${this.#c}">${this.#dt()} ${this.#pt()} ${this.#ft()} ${this.#mt()}</zui-shell-topbar>${this.#gt()}<slot name="nav">${this.#wt()}</slot><zui-shell-content part="content"><div class="notify-parent"></div><slot></slot></zui-shell-content>${this.#vt()}</zui-shell>`}async notify(t,e,i,s){if(!this.#Q){const t=await import("./_4a1062ff.js");this.#Q=new t.NotifierController(this.shadowRoot,".notify-parent")}this.#Q.show(t,e,i,s?.duration)}track(t,e){h.track(t,e)}#dt(){const t=this.#C||[],e=this.logoUri??this.#O?.topbarLogoUrl,i=e?n`<zui-logo slot="logo" part="logo" class="${R({loading:this.#et,"static-logo-uri":!!this.logoUri})}"><img class="theme-logo" src="${e}"></zui-logo>`:n`<zui-logo slot="logo" class="${R({loading:this.#et})}"></zui-logo>`;if(!t.length)return i;const s=t?.map((t=>n`<zui-shell-apps-item id="${t.id}" name="${t.text}" url="${t.href}"></zui-shell-apps-item>`))??[];return n`<zui-shell-apps slot="apps" class="${R({loading:!this.#F})}">${s} ${i}</zui-shell-apps>`}#pt(){return this.#J?this.#nt?n`<zywave-shell-omnisearch slot="search" @search="${this.#yt}" @clickresult="${this.#bt}" @clickseemore="${this.#$t}" @dismiss="${this.#zt}" @inputkeypress="${this.#kt}"></zywave-shell-omnisearch><slot name="experimentalassistant" slot="search"></slot>`:n`<slot name="search" slot="search"></slot><slot name="experimentalassistant" slot="search"></slot>`:i}#wt(){if(this.noNav||this.#M&&!this.#x&&!this.#L?.length)return i;const t=this.#L||[],e=this.#T||[],s=t=>{if(this.activeNavId)return t.id?.toLowerCase()===this.activeNavId.toLowerCase();if(t.href)try{return window.location.toString().startsWith(new URL(t.href).href)}catch{return!1}return!1},r=t=>{if(!t)return t;try{const e=new URL(t);return"localhost"===window.location.hostname||window.location.origin===e.origin?e.pathname+e.search:e.href}catch{return t}},o=t=>{const e=t.items&&t.items.length;return n`<zui-icon slot="icon" icon="${a(t.icon??void 0)}"></zui-icon>${t.href?n`<a id="${t.id}" ?active="${s(t)}" href="${a(r(t.href))}" @click="${this.#xt}" rel="noopener">${t.text}</a>`:n`<span id="${t.id}">${t.text}</span>`} ${e?t.items.map((t=>n`<a id="${t.id}" ?active="${s(t)}" href="${a(r(t.href))}" @click="${this.#xt}">${t.text}</a>`)):i}`},l=t?.map((t=>{const e=t.items&&t.items.length;return n`<zui-shell-nav-item data-nav-id="${t.id}" ?expanded="${e&&t.items.some(s)}" ?subnav="${e}">${o(t)}</zui-shell-nav-item>`}))??[],h=e?.map((t=>{const e=t.items&&t.items.length;return n`<zui-shell-nav-item data-nav-id="${t.id}" ?expanded="${e&&t.items.some(s)}" ?subnav="${e}" slot="utility">${o(t)}</zui-shell-nav-item>`}))??[];return n`<zui-shell-nav part="nav" class="${R({loading:!this.#M||!this.#Z})}" ?collapsed="${this.navCollapsed}" @navcollapsechange="${t=>this.navCollapsed=t.detail}"><slot name="context-switcher"></slot>${l} ${h}</zui-shell-nav>`}#ft(){if(!this.#P?.items?.length)return i;const t=this.#P.items.map((t=>n`<a id="${t.id}" href="${t.href}" rel="noopener" target="_blank">${t.text}</a>`));return n`<zui-shell-help slot="help" id="${this.#P?.id}" icon="${a(this.#P?.icon??void 0)}" help-header="${this.#P?.text??""}">${t}</zui-shell-help>`}#mt(){const t=this.#U,e=this.#N,s=this.#j,r=this.#_,o=s?.hasMultipleProfiles??!1;let l=s?.switchProfileUrl;return l??=void 0,n`<zui-shell-user class="${R({loading:!(this.#H&&this.#B&&this.#K&&this.#q)})}" slot="user" switch-profile-url="${a(l)}" ?has-multiple-profiles="${o}" ?unauthenticated="${null!==this.#it&&!this.#it}" login-user-text="${t?.loginUserText??""}" login-user-url="${this.loginUserUrl||""}" avatar="${e?.picture||""}" username="${e?.preferred_username||""}" given-name="${e?.given_name||""}" family-name="${e?.family_name||""}" logout-user-url="${this.logoutUserUrl||""}" manage-user-url="${e?.profile||""}" profile-name="${s?.profileName||""}" profile-detail="${s?.profileDetail||""}" manage-profile-url="${s?.manageProfileUrl||""}" ?impersonating="${s?.isImpersonating}" impersonating-profile-name="${s?.impersonatedProfileName||""}" notification-count="${r?.notificationCount||""}" view-notifications-url="${r?.notificationsUrl||""}" user-header="${t?.userHeader||""}" logout-user-text="${t?.logoutUserLink||""}" manage-user-text="${t?.manageUserLink||""}" profile-header="${t?.profileHeader||""}" manage-profile-text="${t?.manageProfileLink||""}" switch-profile-text="${t?.switchProfileLink||""}" impersonating-action="${t?.impersonatingVerb||""}" notifications-header="${t?.notificationsHeader||""}" notification-title="${t?.notificationsLabel||""}" no-notification-title="${t?.noNotificationsLabel||""}" view-notifications-text="${t?.notificationsLink||""}">${this.#rt?.length?this.#St():i}</zui-shell-user>`}#St(){const t=this.#U,e=t=>{this.#I[t]=!this.#I[t];const e={};e[`Feature flag: ${t}`]=this.#I[t],this.#Rt(e),Promise.all([j(1500),this.#Ut(t,this.#I[t])]).then((()=>{window.location.reload()}))};return n`<div slot="feature-flags"><div class="feature-flags-header">${t?.featureFlagsHeader}</div>${k(this.#rt??[],(i=>n`<zywave-shell-feature header="${t?.featureFlags?.[i]?.header||""}" description="${t?.featureFlags?.[i]?.description||""}" ?checked="${this.#I[i]}" @click="${()=>e(i)}"></zywave-shell-feature>`))}</div>`}async#Ut(t,e){const i=new URL(`shell/v2.0/featureflag/${t}`,this.apiUrl);await this._apiClient.fetch(i,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:e})})}#vt(){const t=this.#U,e=t?.copyright.replace("{0}",this.copyrightYear.toString()),i="co.uk"===location.hostname.substring(location.hostname.length-5)?"co.uk":"com",s=`http://www.zywave.${i}/terms-conditions/`,r=`http://www.zywave.${i}/privacy-statement/`,o=`http://www.zywave.${i}/dmca-notice/`,l=`http://www.zywave.${i}/cookie-usage/`,h=t?.contactLink;return n`<zui-shell-footer part="footer" class="${R({loading:!this.#q})}"><div class="legalese"><slot name="legalese"></slot></div><div>${e}</div><a target="_blank" href="${s}" rel="noopener">${t?.tosLink||""}</a> <a target="_blank" href="${r}" rel="noopener">${t?.privacyLink||""}</a> <a target="_blank" href="${o}" rel="noopener">${t?.dmcaLink||""}</a> <a target="_blank" href="${l}" rel="noopener">${t?.cookiesLink||""}</a> <a target="_blank" href="${a(h)}">${t?.contactLinkTitle||""}</a></zui-shell-footer>`}#ut(){const t=this.analyticsUserProperties||null;return n`${this.#H?n`<zywave-analytics .userProperties="${t}" api-base-url="${a(this.apiBaseUrl??void 0)}" bearer-token="${a(this.bearerToken??void 0)}" profile-token="${a(this.profileToken??void 0)}"></zywave-analytics>`:i}`}#gt(){const t=this.#D?.[0]?.message??null;return n`${this.#X&&null!==t?n`<zui-shell-banner type="warning"><span>${P(t)}</span></zui-shell-banner>`:i}`}async#ht(){const t=this.#Ct();if(this._authorized){if(await Promise.allSettled([t,this.#Lt(),this.#Tt()]),this.#it){const t=[this.#Pt(),this.#Nt(),this.#jt(),this.#_t().then((()=>{this.#st||(this.#J=!0)}))];await Promise.allSettled(t)}}else await t;this.dispatchEvent(new CustomEvent("load")),this.requestUpdate()}async#ct(){this.#it&&(await Promise.allSettled([this.#Dt(),this.#Ot()]),this.#at("complete","interactive"),this.requestUpdate())}#at(t,e){if(e)try{this.#W?.states?.delete(e)}catch{this.#W?.states?.delete(`--${e}`)}this.#R=t;try{this.#W?.states?.add(t)}catch{this.#W?.states?.add(`--${t}`)}this.dispatchEvent(new CustomEvent(t))}async#Ct(){this.#U=await x.import(this.culture),this.#q=!0,this.requestUpdate()}async#Pt(){const t=new URL("shell/v2.0/navitem",this.apiUrl);t.searchParams.set("culture",this.culture),(this.navTags||[]).forEach((e=>{t.searchParams.append("tags",e)})),this.#It(t);const e=await this._apiClient.fetch(t);if(e instanceof Response&&e.ok){const t=await e.json();this.#C=t.filter((t=>"Apps"===t.menuType)),this.#F=!0,this.#L=t.filter((t=>"SideNav"===t.menuType)),this.#M=!0,this.#T=t.filter((t=>"Utility"===t.menuType)),this.#Z=!0,this.#P=t.find((t=>"Help"===t.menuType)),this.requestUpdate()}}async#Lt(){const t=new URL("userinfo",this.apiUrl),e=await this._apiClient.fetch(t);if(e instanceof Response&&e.ok){const t=await e.json();this.#N=t}this.#H=!0,this.requestUpdate()}async#Tt(){const t=new URL("shell/v2.0/profileinfo",this.apiUrl);(this.profileSwitchTypeCodes||[]).forEach((e=>{t.searchParams.append("typeCodes",e)})),this.switchProfileHandlerUrl&&t.searchParams.append("switchProfileHandlerUrl",this.switchProfileHandlerUrl),this.switchProfileRedirectUrl&&t.searchParams.append("switchProfileRedirectUrl",this.switchProfileRedirectUrl);const e=await this._apiClient.fetch(t);if(e instanceof Response&&200===e.status){const t=await e.json();this.#j=t,this.#B=!0,this.requestUpdate()}}async#Dt(){const t=new URL("shell/v2.0/notificationinfo",this.apiUrl);this.#It(t);const e=await this._apiClient.fetch(t);if(e instanceof Response&&200===e.status){const t=await e.json();this.#_=t,this.#K=!0,this.requestUpdate()}}async#Ot(){const t=new URL("shell/v2.0/notification/system",this.apiUrl),e=await this._apiClient.fetch(t);if(e instanceof Response&&200===e.status){const t=await e.json();this.#D=t,this.#X=!0,this.requestUpdate()}}async#Nt(){if(this.themeable){const t=new URL("shell/v2.0/themeinfo",this.apiUrl);this.themeId&&t.searchParams.set("id",this.themeId.toString()),this.#It(t);const e=await this._apiClient.fetch(t);if(e instanceof Response&&e.ok)try{const t=await e.json();this.#O=t}catch{}}this.#Y=!0,this.requestUpdate()}async#_t(){const t=await this._loadFeatureFlags();this.#I=t?.flagValues,this.#A=t?.userManagedFlags,this.requestUpdate()}async#jt(){const t=new URL("shell/v2.0/search/info",this.apiUrl);t.searchParams.set("host",window.location.hostname);const e=await this._apiClient.fetch(t);if(e instanceof Response&&200===e.status){const t=await e.json();this.#E=t}this.#J=!0,this.requestUpdate()}#xt(t){return t.target instanceof HTMLElement&&(this.activeNavId=t.target.id),!this.onNavigate||this.onNavigate(t)}async#c(t){const e=t.detail?.height,i=await this._notifyParent;i.style.top=e||"",this.#Q&&this.#Q.resposition(),this.requestUpdate()}#It(t){this.#j&&(t.searchParams.set("profileId",this.#j.id),t.searchParams.set("profileTypeCode",this.#j.typeCode))}#yt(t){this.track("ZywaveShell:Search",t.detail)}#bt(t){this.track("ZywaveShell:SearchResultClicked",t.detail)}#$t(t){this.track("ZywaveShell:SeeMoreClicked",t.detail)}#zt(t){this.track("ZywaveShell:SearchDismissed",t.detail)}#kt(t){this.track("ZywaveShell:SearchKeypress",t.detail)}#Rt(t){this.track("ZywaveShell:FeatureFlagToggled",t)}#lt(t){if(t.ctrlKey&&t.altKey&&"KeyZ"===t.code){const t={url:window.location.href,userAgent:window.navigator.userAgent,referrer:document.referrer};let e={};this.#N&&(e={sub:this.#N.sub,given_name:this.#N.given_name,family_name:this.#N.family_name,preferred_username:this.#N.preferred_username,email:this.#N.email});let i={};this.#j&&(i={profileId:this.#j.id,profileTypeCode:this.#j.typeCode,isImpersonating:this.#j.isImpersonating}),console.table({...t,...e,...i})}}}q([r({type:String,attribute:"app-name"})],F.prototype,"appName",null),q([r({type:Array,attribute:"nav-tags"})],F.prototype,"navTags",void 0),q([r({type:String,attribute:"active-nav-id"})],F.prototype,"activeNavId",void 0),q([r({type:Boolean,attribute:"nav-collapsed"})],F.prototype,"navCollapsed",void 0),q([r({type:Number,attribute:"copyright-year"})],F.prototype,"copyrightYear",void 0),q([r({type:String,attribute:"culture"})],F.prototype,"culture",void 0),q([r({type:String,attribute:"logout-user-url"})],F.prototype,"logoutUserUrl",void 0),q([r({type:Array,attribute:"profile-switch-type-codes"})],F.prototype,"profileSwitchTypeCodes",void 0),q([r({type:String,attribute:"login-user-url"})],F.prototype,"loginUserUrl",void 0),q([r({type:Number,attribute:"theme-id"})],F.prototype,"themeId",void 0),q([r({type:String,attribute:"switch-profile-handler-url"})],F.prototype,"switchProfileHandlerUrl",void 0),q([r({type:String,attribute:"switch-profile-redirect-url"})],F.prototype,"switchProfileRedirectUrl",void 0),q([r({type:Boolean})],F.prototype,"themeable",void 0),q([r({type:Boolean,attribute:"no-nav"})],F.prototype,"noNav",void 0),q([r({type:Boolean,attribute:"no-search"})],F.prototype,"noSearch",void 0),q([r({type:String,attribute:"logo-uri"})],F.prototype,"logoUri",void 0),q([r({type:Object,attribute:"analytics-user-properties"})],F.prototype,"analyticsUserProperties",void 0),q([function(t){return(e,i)=>c(e,i,{async get(){return await this.updateComplete,this.renderRoot?.querySelector(t)??null}})}(".notify-parent")],F.prototype,"_notifyParent",void 0),window.customElements.define("zywave-shell",F);const M=!HTMLElement.prototype.hasOwnProperty("popover"),Z=import.meta.url.substring(0,import.meta.url.lastIndexOf("/"));window.zywave=Object.assign({},window.zywave,{ZywaveApiClient:class{#Et;get apiUrl(){return this.apiBaseUrl?new URL(this.apiBaseUrl,window.location.origin.toString()):void 0}constructor(t){if(!t||t?.apiProxyElement||t?.proxy){if(t?.apiProxyElement)this.#Et=t.apiProxyElement;else{const e=t?.proxy?`zywave-api-proxy[name="${t.proxy}"]`:"zywave-api-proxy";this.#Et=document.querySelector(e)}if(!this.#Et)throw new Error("To use the configuration-less ZywaveApiClient, the proxy element must be in the document or must be provided.")}else{if(!t.apiBaseUrl?.trim().length)throw new Error("apiBaseUrl is required if not using the API Proxy.");if(!t.bearerToken)throw new Error("bearerToken is required if not using the API Proxy.");this.apiBaseUrl=t.apiBaseUrl,this.bearerToken=t.bearerToken,this.profileToken=t.profileToken}}async fetch(t,e){if(this.#Et){const i=await this.#Et._apiClient.fetch(t,e);if(i instanceof Response)return i;throw i}let i;if((e=e??{}).headers=new Headers(e.headers),this.bearerToken&&e.headers.set("Authorization",`Bearer ${this.bearerToken}`),this.profileToken&&e.headers.set("Profile",`Token ${this.profileToken}`),e.credentials||(e.credentials="include"),"string"==typeof t||t instanceof URL){const e=new URL(t.toString(),this.apiUrl);i=new Request(e.toString())}else{const e=new URL(t.url,this.apiUrl);i=new Request(e.toString(),t)}return window.fetch(i,e)}}}),window.zywave.zapi={...window.zywave.zapi,analytics:l,_popover:{requiresPolyfill:M,loadPolyfill:()=>import("./_3a55996e.js"),cssUri:`${Z}/_polyfills/popover/popover.css`}};export{x as R};
